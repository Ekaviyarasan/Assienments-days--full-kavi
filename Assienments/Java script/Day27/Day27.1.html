<!DOCTYPE html>
<html>
<head>
  <title>Gmails</title>
</head>
<body>

  <h2 style="background-color: aqua;">Hackers</h2>
  <button onclick="fetchUsers()">Hackers Id</button>
  <ul id="userList"></ul>

  <script>
    function fetchUsers() {
      fetch("https://jsonplaceholder.typicode.com/users")
        .then(response => {
          if (!response.ok) {
            throw new Error("Failed to fetch data");
          }
          return response.json();
        })
        .then(data => {
          /* Display data using DOM */
          const list = document.getElementById("userList");
          list.innerHTML = "";

          data.forEach(user => {
            const li = document.createElement("li");
            li.innerText = user.name + " - " + user.email;
            list.appendChild(li);
          });

          /* Save one value in localStorage */
          const firstUser = data[0].name;
          localStorage.setItem("username", JSON.stringify(firstUser));
        })
        .catch(error => {
          console.error("Error:", error);
          alert("Something went wrong!");
        });
    }

    /* Retrieve saved data */
    const savedName = JSON.parse(localStorage.getItem("username"));
    if (savedName) {
      console.log("Saved User:", savedName);
    }
  </script>

</body>
</html>
